(function(){function e(e,t,o,i,n,s,a,r,d,l,c,u,h,p){this.qVideoBox=e,this.progress=t,this.currentProgress=o,this.play=i,this.playIcon=n,this.reload=s,this.startTime=a,this.endTime=r,this.volumeBtn=d,this.volumeIcon=l,this.volumePro=c,this.volumeCur=u,this.fullscreenBtn=h,this.vloading=p,this.total=0,this.init()}e.prototype.init=function(){this.showLoad(),this.showErrorLoad(),this.showWait(),this.showPlaying(),this.videoPlay(),this.videoLoad(),this.changeProgress(),this.videoMuted(),this.changeVolProgress(),this.videoUpdate(),this.showFullScreen()},e.prototype.secondToTime=function(e){let t=0,o=0,i=0,n=e%60,s="";if(e<3600)t=n,o=parseInt(e/60),i=0;else{let n=e%3600;n%60<60&&(t=n%60,o=parseInt(n/60)),o=parseInt(n/60),i=parseInt(e/3600)}return t=t>10?parseInt(t):"0"+parseInt(t),o=o>10?o:"0"+o,i=i>10?i:"0"+i,s=i+":"+o+":"+t,s},e.prototype.getDom=function(e){return document.querySelector(e)},e.prototype.getDomAll=function(e){return document.querySelectorAll(e)},e.prototype.addEvent=function(e,t,o){t.addEventListener(e,o,!1)},e.prototype.showLoad=function(){var e=this;e.qVideoBox.addEventListener("canplaythrough",function(){e.vloading.classList="qvideo-loading-box hide"},!1)},e.prototype.showErrorLoad=function(){var e=this;e.qVideoBox.addEventListener("error",function(){e.vloading.classList="qvideo-loading-box show"},!1)},e.prototype.showWait=function(){var e=this;e.qVideoBox.addEventListener("waiting",function(){e.vloading.classList="qvideo-loading-box show",e.videoPlay()},!1)},e.prototype.showPlaying=function(){var e=this;e.qVideoBox.addEventListener("playing",function(){e.vloading.classList="qvideo-loading-box hide",e.videoPlay()},!1)},e.prototype.videoPlay=function(){var e=this;e.play.addEventListener("click",function(){e.qVideoBox.paused?(e.playIcon.classList="fa fa-pause",e.qVideoBox.play(),e.total=e.qVideoBox.duration,e.endTime.innerText=e.secondToTime(e.total)):(e.playIcon.classList="fa fa-play",e.qVideoBox.pause())},!1)},e.prototype.videoLoad=function(){var e=this;e.reload.addEventListener("click",function(){e.qVideoBox.load(),e.playIcon.classList="fa fa-play"},!1)},e.prototype.changeProgress=function(){var e=this;e.progress.addEventListener("click",function(t){let o=t.offsetX/t.target.offsetWidth;e.currentProgress.style.width=100*o+"%",e.qVideoBox.currentTime=e.total*o,e.startTime.innerText=e.secondToTime(e.qVideoBox.currentTime),e.qVideoBox.play(),e.playIcon.classList="fa fa-pause"},!1)},e.prototype.videoMuted=function(){var e=this;e.volumeBtn.addEventListener("click",function(){e.qVideoBox.muted=!e.qVideoBox.muted,e.volumeIcon.classList=e.qVideoBox.muted?"fa fa-volume-mute":"fa fa-volume-up"},!1)},e.prototype.changeVolProgress=function(){var e=this;e.volumePro.addEventListener("click",function(t){let o=t.offsetX/t.target.offsetWidth;e.volumeCur.style.width=100*o+"%",e.qVideoBox.volume=o,e.volumeIcon.classList=0==Math.abs(e.qVideoBox.volume)?"fa fa-volume-mute":"fa fa-volume-up"},!1)},e.prototype.videoUpdate=function(){var e=this;e.qVideoBox.addEventListener("timeupdate",function(){e.currentTime=e.qVideoBox.currentTime,e.currentProgress.style.width=e.currentTime/e.total*100+"%",e.startTime.innerText=e.secondToTime(e.currentTime),e.qVideoBox.ended&&(e.playIcon.classList="fa fa-play")},!1)},e.prototype.showFullScreen=function(){var e=this;e.fullscreenBtn.addEventListener("click",function(){e.qVideoBox.webkitRequestFullScreen()},!1)},window.$qvideo=window.$qv=e})();