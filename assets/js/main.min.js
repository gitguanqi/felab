function getList(t){gjs.httpSimple("get",host+"/assets/mock/list.min.json",null,function(e){if(200===e.code){let n=e.data;document.title=n.name+"- 探索新技术，展望未来云",siteTitle.innerText=n.name;let o=n.list;if(t){let e=[];for(let n=0;n<o.length;n++){const l=o[n];l.name.indexOf(t)>-1&&e.push(l)}o=e}showData(o,t)}else{let t=[];showData(t)}})}function searchDemo(t){let e=t.target.value;if(""==e){for(let t=0;t<contents.length;t++)contents[t].style.display="block";searchContent.style.display="none"}else{for(let t=0;t<contents.length;t++)contents[t].style.display="none";searchContent.style.display="block",e=e.toLowerCase(),getList(e)}}function showData(t,e){let n,o=gjs.domAll(".demo-content-item-ls");e&&(o=gjs.dom(".demo-item-search .demo-content-item-ls"),n=gjs.gId("search-count"),o.innerHTML="");for(let n=0;n<t.length;n++){const l=t[n];let s=l.cid.toString().split("")[0]-1,i=l.tags.split(",").join(", "),c=l.href;c.indexOf("localhost")>-1&&(l.href=c.replace(/localhost/gi,originUrls[origin])),l.href.indexOf("http")>-1||l.href.indexOf("https")>-1?l.href="./link/check/?target="+encodeURIComponent(l.href):l.href=host+l.href;let a='<li><a href="'+l.href+'" target="_blank" title=" '+l.description+'"><div class="demo-item-img"><img class="lazyimg" src="./assets/img/holder.png" data-src="./'+l.picUrl+'" alt="'+l.name+'"></div><div class="project-bot"><span class="project-title">'+l.name+'</span><span class="project-des">'+l.description+'</span><span class="project-tags"><i class="felab felab-tags"></i>'+i+"</span></div></a></li>";e?o.innerHTML+=a:o[s].innerHTML+=a}if(e)n.innerText=t.length;else{for(let t=0;t<o.length;t++){const e=o[t];counts[t].innerText=e.childNodes.length}count.innerText=t.length}t&&t.length&&lazyLoad()}function isVisible(t){let e=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,n=t.getBoundingClientRect();return n.top>0&&n.top<e}function lazyLoad(){let t=gjs.domAll(".lazyimg");for(let e=0;e<t.length;e++){let n=t[e],o=isVisible(n);o&&n.setAttribute("src",n.getAttribute("data-src"))}}function contentScroll(){lazyImgs=gjs.domAll(".lazyimg"),lazyImgs&&lazyImgs.length&&lazyLoad();let t=content.scrollTop;goTopBtn.style.display=t>280?"block":"none";for(let e=0;e<contents.length;e++){const n=contents[e].offsetTop-50;if(n<=t){for(let t=0;t<navLis.length;t++)navLis[t].className="";navLis[e].className="active"}}}function goNavContent(){let t=Array.prototype.slice.call(navLis);t.forEach(function(t,e){function n(t){let e=t.currentTarget.dataset.index,n=0;contents[e]&&(n=contents[e].offsetTop),content.scrollTop=n}gjs.addEvent(t,"click",n,!1)})}function goTop(){let t=setInterval(function(){let e=content.scrollTop,n=0;e>0&&(n=Math.floor(-e/6)),0==e&&clearInterval(t),content.scrollTop=e+n},10)}function showSlideNav(){if(showNav){function t(){demoNav.style.left=0}gjs.addEvent(showNav,"click",t,!1)}if(navExit){function e(){demoNav.style.left="-100%"}gjs.addEvent(navExit,"click",e,!1)}}let siteTitle=gjs.dom(".site-title"),counts=gjs.domAll(".count"),content=gjs.dom(".demo-content"),search=gjs.dom(".demo-content-search"),count=gjs.dom("#count"),navLis=gjs.domAll(".demo-nav-content li"),contents=gjs.domAll(".demo-content-item"),contentItem=gjs.domAll(".demo-content-item-ls"),searchContent=gjs.dom(".demo-item-search"),host=location.origin+location.pathname,origin=host.indexOf("localhost")>-1||host.indexOf("127.0.0.1")>-1?"cn":host.indexOf("guanqi.xyz")>-1?"xyz":"cc",originUrls={cn:"guanqi.cn",xyz:"guanqi.xyz",cc:"xqgj.cc"},goTopBtn=gjs.dom(".demo-go-top"),showNav=gjs.dom(".demo-show-nav"),demoNav=gjs.dom(".demo-nav"),navExit=gjs.dom(".demo-nav-exit"),year=gjs.gId("year");year.innerText=(new Date).getFullYear(),gjs.addEvent(search,"input",searchDemo,!1),getList(),gjs.addEvent(content,"scroll",contentScroll,!1),goNavContent(),$g.addEvent(goTopBtn,"click",goTop,!1),showSlideNav(),window.onresize=function(){let t=document.documentElement.clientWidth||document.body.clientWidth;t>=750?demoNav.style.left=0:(demoNav.style.left="-100%",showSlideNav())};