(function(){function t(){f=document.getElementById("mainCanvas"),f.getContext&&(o(),setInterval(n,33))}function o(){h=document.getElementById("outer"),v=document.getElementById("canvasContainer"),l=f.getContext("2d");for(var t=b;t--;){var o=new i;o.x=.5*p,o.y=.5*x,o.vX=Math.cos(t)*Math.random()*34,o.vY=Math.sin(t)*Math.random()*34,C[t]=o}s=d=.5*p,c=M=.5*x,document.onmousedown=a,document.onmouseup=r,document.onmousemove=e}function n(){l.globalCompositeOperation="source-over",l.fillStyle="rgba(8,8,12,0.65)",l.fillRect(0,0,p,x),l.globalCompositeOperation="lighter",m=s-d,u=c-M,d=s,M=c;for(var t=.86*p,o=.125*p,n=.5*p,e=Math.random,a=Math.abs,r=b;r--;){var i=C[r],f=i.x,v=i.y,h=i.vX,I=i.vY,X=f-s,Y=v-c,B=Math.sqrt(X*X+Y*Y)||.001;if(X/=B,Y/=B,g&&B<n){var E=14*(1-B/n);h+=X*E+.5-e(),I+=Y*E+.5-e()}if(B<t){var P=(1-B/t)*p*.0014;h-=X*P,I-=Y*P}if(B<o){var L=(1-B/o)*p*26e-5;h+=m*L,I+=u*L}h*=w,I*=w;var O=a(h),S=a(I),T=.5*(O+S);O<.1&&(h*=3*e()),S<.1&&(I*=3*e());var q=.45*T;q=Math.max(Math.min(q,3.5),.4);var z=f+h,R=v+I;z>p?(z=p,h*=-1):z<0&&(z=0,h*=-1),R>x?(R=x,I*=-1):R<0&&(R=0,I*=-1),i.vX=h,i.vY=I,i.x=z,i.y=R,l.fillStyle=i.color,l.beginPath(),l.arc(z,R,q,0,y,!0),l.closePath(),l.fill()}}function e(t){var o=t||window.event;s=o.clientX-h.offsetLeft-v.offsetLeft,c=o.clientY-h.offsetTop-v.offsetTop}function a(t){return g=!0,!1}function r(t){return g=!1,!1}function i(){this.color="rgb("+Math.floor(255*Math.random())+","+Math.floor(255*Math.random())+","+Math.floor(255*Math.random())+")",this.y=0,this.x=0,this.vX=0,this.vY=0,this.size=1}var f,l,v,h,s,c,m,u,d,M,g,y=2*Math.PI,p=1200,x=960,b=600,w=.96,C=[];window.onload=t})();