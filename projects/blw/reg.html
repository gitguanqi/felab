<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>注册-简书</title>
    <link rel="icon" href="img/favicon.ico" type="image/x-icon">
    <script>
        document.documentElement.style.fontSize =
            document.documentElement.clientWidth / 10 + 'px'
    </script>
    <link type="text/css" href="css/reg.css" rel="stylesheet">
</head>

<body>
    <header><a class="logo" href="index.html"><img src="img/logo.png" alt=""> </a><a class="logoText">注册</a></header>
    <div class="from">
        <div class="input-wrp"><input type="text" name="uname" id="user" placeholder="您的昵称，例：哔哩哔哩"></div>
        <div class="input-wrp"><input type="password" name="uname" id="pwd" placeholder="您的密码，6-16个字符组成，区分大小写"></div>
        <div class="input-wrp"><select name="country_code">
                <option value="">中国大陆</option>
                <option value="">香港特别行政区</option>
                <option value="">澳门特别行政区</option>
                <option value="">台湾地区</option>
                <option value="">美国</option>
                <option value="">比利时</option>
                <option value="">澳大利亚</option>
                <option value="">法国</option>
                <option value="">加拿大</option>
                <option value="">日本</option>
                <option value="">韩国</option>
                <option value="">马来西亚</option>
                <option value="">英国</option>
                <option value="">意大利</option>
                <option value="">俄国</option>
                <option value="">俄罗斯</option>
                <option value="">新西兰</option>
            </select></div>
        <div class="input-wrp"><input type="text" name="uname" id="iphone" placeholder="您的手机"></div>
        <div class="input-wrp"><input type="text" name="uname" placeholder="短信验证码" id="yz"
                style="width: 57%;border: 1px solid #ddd"> <input type="text" id="getcapth" placeholder="获取短信验证码"
                style="width: 41%"></div>
        <p>继续注册，表明您已同意<a href="https://passport.bilibili.com/register/licence">《billibilli网会员注册协议》</a></p>
        <div><input class="button confirm" type="submit" id="btns" value="同意并注册"></div>
        <div><a class="button" href="login.html">登录</a></div>
    </div>
    <script>
        //正则
        var reg = /^[1][3,5,8,7][0-9]{9,9}$/g;
        var reg1 = /[0-9A-Za-z]{6}/g;
        var reg2 = /^[0-9]{4,4}$/g;
        var username = document.querySelector("#user");
        var pwd = document.querySelector("#pwd");
        var yz = document.querySelector("#yz");
        username.onchange = function () {
            var _val = this.value;
            if (!reg.test(_val)) {
                alert("格式不正确");
            } else {
                alert("请输入六位数");
            }
        }
        pwd.onchange = function () {
            var _val = this.value;
            if (!reg1.test(_val)) {
                alert("格式不正确");
            } else {
                alert("请输入六位数");
            }
        }
        iphone.onchange = function () {
            var _val = this.value;
            if (!reg.test(_val)) {
                alert("格式不正确");
            } else {
                alert("请输入正确的手机号");
            }
        }
        yz.onchange = function () {
            var _val = this.value;
            if (!reg2.test(_val)) {
                alert("格式不正确");
            } else {
                alert("请输入正确的验证码");
            }
        }



        //获取cookie
        function getCookie(key) {
            var _cookie = document.cookie; //username=wally; age=17; sex=man
            var arr = _cookie.split(";");
            for (var i = 0; i < arr.length; i++) {
                if (arr[i].split("=")[0].trim() === key) {
                    return arr[i].split("=")[1]
                }
            }
        }

        function removeCookie(key) {
            setCookie(key, null, -1)
        }

        function setCookie(key, value, time) {
            var date = new Date()
            date.setDate(date.getDate() + time) // 当前时间 + 30天
            document.cookie = key + "=" + encodeURIComponent(value) + ";expires=" + date
        }

        //存cookie
        var btn = document.getElementsByClassName("btns")[0];

        function setCookie(key, value, time) {
            var date = new Date()
            date.setDate(date.getDate() + time)
            document.cookie = key + "=" + encodeURIComponent(value) + ";expires=" + date
        }
        btns.onclick = function (e) {
            e = e || window.event;
            e.preventDefault();
            if (username.value) {
                setCookie("username", username.value, 7)
                location.href = "index.html";
            }

        }
    </script>
</body>

</html>